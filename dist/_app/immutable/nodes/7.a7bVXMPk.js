import{s as o,e as r,c as l,D as m,j as c,l as f,E as s,f as p,C as d}from"../chunks/scheduler.vwrL6P9E.js";import{S as u,i as h}from"../chunks/index.kO2rGTCX.js";import{g}from"../chunks/entry.ZZZaYNO6.js";import"../chunks/journey.NYZhiPzo.js";import{g as v,t as _}from"../chunks/utils.IImh6JCv.js";function S(n){let t,a="<span>Getting random film</span>";return{c(){t=r("div"),t.innerHTML=a,this.h()},l(e){t=l(e,"DIV",{class:!0,"data-svelte-h":!0}),m(t)!=="svelte-3x99sj"&&(t.innerHTML=a),this.h()},h(){c(t,"class","page svelte-18nlevt")},m(e,i){f(e,t,i)},p:s,i:s,o:s,d(e){e&&p(t)}}}function x(n){async function t(){const{film:a}=await fetch("/.netlify/functions/random",{method:"POST",headers:{accept:"application/json"},body:JSON.stringify({avoid:[...v("avoid",[],e=>JSON.parse(e)).map(e=>e.id)]})}).then(e=>e.json());await _(1500),g(`/film/${a.id}`,{replaceState:!0})}return d(()=>{t()}),[]}class P extends u{constructor(t){super(),h(this,t,x,S,o,{})}}export{P as component};
